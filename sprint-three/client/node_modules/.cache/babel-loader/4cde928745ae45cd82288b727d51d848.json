{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ed\\\\Desktop\\\\edward-chiu-brainflix\\\\sprint-two\\\\src\\\\components\\\\MainPage\\\\MainPage.jsx\";\nimport { Component } from \"react\";\nimport HeroVideo from \"../HeroVideo/HeroVideo\";\nimport VideoDescription from \"../VideoDescription/VideoDescription\";\nimport VideoList from \"../VideoList/VideoList\";\nimport DisplayComments from \"../DisplayComments/DisplayComments\";\nimport { API_URL, API_KEY } from \"../../utils/utils\";\nimport \"../../App.scss\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MainPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      videoList: [],\n      currentVideo: [],\n      loading: true\n    };\n\n    this.generateSuggestedVideos = () => {\n      return this.state.data.filter(video => video.id !== this.state.currentVideo.id);\n    };\n\n    this.getVideoById = videoId => {\n      axios.get(`${API_URL}/videos/${videoId}/?api_key=${API_KEY}`).then(res => {\n        this.setState({\n          currentVideo: res.data,\n          loading: false\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`${API_URL}/videos/?api_key=${API_KEY}`).then(res => {\n      this.setState({\n        videoList: res.data\n      });\n\n      if (this.props.match.url === \"/\") {\n        this.getVideoById(this.state.videoList[0].id);\n      } else {\n        this.getVideoById(this.props.match.params.id);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      videoId\n    } = this.props.match.params;\n    console.log(videoId, prevProps.match.params.videoId);\n\n    if (videoId !== prevProps.match.params.videoId) {\n      this.getVideoById(videoId);\n    }\n  }\n\n  render() {\n    if (this.state.loading === true) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(HeroVideo, {\n        currentVideo: this.state.currentVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App__divider-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App__main-content\",\n          children: [/*#__PURE__*/_jsxDEV(VideoDescription, {\n            data: this.state.currentVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(DisplayComments, {\n            data: this.state.currentVideo.comments,\n            preventDefault: this.preventDefault\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App__sidebar\",\n          children: /*#__PURE__*/_jsxDEV(VideoList, {\n            data: this.state.videoList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MainPage;","map":{"version":3,"sources":["C:/Users/Ed/Desktop/edward-chiu-brainflix/sprint-two/src/components/MainPage/MainPage.jsx"],"names":["Component","HeroVideo","VideoDescription","VideoList","DisplayComments","API_URL","API_KEY","axios","MainPage","state","videoList","currentVideo","loading","generateSuggestedVideos","data","filter","video","id","getVideoById","videoId","get","then","res","setState","catch","err","console","log","componentDidMount","props","match","url","params","componentDidUpdate","prevProps","render","comments","preventDefault"],"mappings":"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","sourcesContent":["import { Component } from \"react\"\r\nimport HeroVideo from \"../HeroVideo/HeroVideo\"\r\nimport VideoDescription from \"../VideoDescription/VideoDescription\"\r\nimport VideoList from \"../VideoList/VideoList\"\r\nimport DisplayComments from \"../DisplayComments/DisplayComments\"\r\nimport {API_URL, API_KEY} from \"../../utils/utils\"\r\nimport \"../../App.scss\"\r\nimport axios from \"axios\"\r\n\r\nclass MainPage extends Component {\r\n    state = {\r\n        videoList: [],\r\n        currentVideo: [],\r\n        loading: true,\r\n    }\r\n\r\n    generateSuggestedVideos = () => {\r\n        return this.state.data.filter(video => video.id !== this.state.currentVideo.id)}\r\n\r\n    getVideoById = (videoId)=>{\r\n        axios.get(`${API_URL}/videos/${videoId}/?api_key=${API_KEY}`)\r\n            .then(res =>{\r\n                this.setState({\r\n                    currentVideo: res.data,\r\n                    loading: false,\r\n                })\r\n            })\r\n            .catch(err =>{\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get(`${API_URL}/videos/?api_key=${API_KEY}`)\r\n            .then(res =>{\r\n                this.setState({\r\n                    videoList: res.data\r\n                })\r\n                if(this.props.match.url === \"/\"){\r\n                this.getVideoById(this.state.videoList[0].id)\r\n                }else{\r\n                    this.getVideoById(this.props.match.params.id)\r\n                }\r\n            })\r\n            .catch(err =>{\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        const {videoId} = this.props.match.params;\r\n        console.log(videoId, prevProps.match.params.videoId);\r\n        if(videoId !== prevProps.match.params.videoId){\r\n            this.getVideoById(videoId);\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.loading === true) {\r\n            return <div>Loading...</div>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <HeroVideo\r\n                    currentVideo={this.state.currentVideo}\r\n                />\r\n                <div className=\"App__divider-container\">\r\n                    <div className=\"App__main-content\">\r\n                        <VideoDescription\r\n                            data={this.state.currentVideo}\r\n                        />\r\n                        <DisplayComments\r\n                            data={this.state.currentVideo.comments}\r\n                            preventDefault={this.preventDefault}\r\n                        />\r\n                    </div>\r\n                    <div className=\"App__sidebar\">\r\n                        <VideoList\r\n                            data={this.state.videoList}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MainPage\r\n\r\n"]},"metadata":{},"sourceType":"module"}